import{_ as x,m as v,b as y,r as d,o as g,d as k,f as t,w,e,n as c,G as C,H as S,D as T,h as m}from"./index-941bd876.js";import{c as p}from"./cart-535f44f0.js";import{S as D}from"./StepCirclelist-dd5dab70.js";const V={components:{StepCirclelist:D},data(){return{isLoading:!1,cartData:null,textarea:""}},computed:{...v(p,["carts"])},methods:{...y(p,["getitem"]),isPhone(o){return/^(09)[0-9]{8}$/.test(o)?!0:"需要正確的電話號碼"},onSubmit(o){let s={data:{user:{name:"",email:"",tel:"",address:""},message:""}};s.data.message=this.textarea,s.data.user.name=o.姓名,s.data.user.email=o.email,s.data.user.tel=o.電話,s.data.user.address=o.地址;const u="https://vue3-course-api.hexschool.io/v2/api/biggo/order";this.$http.post(u,s).then(a=>{this.getitem(),this.scrollTo(),this.$router.push({path:"ThankyouBuy",query:{id:a.data.orderId}})}).catch(a=>{console.log(a)})},scrollTo(){window.scrollTo(0,0)},backCart(){this.scrollTo(),this.$router.push("/Cartview")}}},N={class:"WriteDatawrap px-5 px-md-3"},q={class:"mb-4"},B=e("label",{for:"email",class:"form-label mb-1 fs-5"},[m("Email"),e("span",{style:{color:"red"}}," *")],-1),$={class:"mb-4"},W=e("label",{for:"name",class:"form-label mb-1 fs-5"},[m("姓名"),e("span",{style:{color:"red"}}," *")],-1),E={class:"mb-4"},F=e("label",{for:"電話",class:"form-label mb-1 fs-5"},[m("電話"),e("span",{style:{color:"red"}}," *")],-1),M={class:"mb-4"},P=e("label",{for:"address",class:"form-label mb-1 fs-5"},[m("地址"),e("span",{style:{color:"red"}}," *")],-1),j={class:"mb-4"},z=e("label",{for:"message",class:"mb-1 fs-5"},"留言",-1),A={class:"text-center my-5 d-flex flex-column-reverse flex-md-row justify-content-center"},G={class:"mb-3 mb-md-0"},H=["disabled"];function I(o,s,u,a,b,l){const _=d("StepCirclelist"),r=d("VField"),n=d("error-message"),h=d("v-form");return g(),k("div",N,[t(_,{step:2}),t(h,{ref:"form",onSubmit:l.onSubmit},{default:w(({errors:i})=>[e("div",q,[B,t(r,{style:{"background-color":"#f2f2f2"},type:"email",rules:"email|required",class:c(["form-control noborder",{"is-invalid":i.email}]),id:"email",name:"email"},null,8,["class"]),t(n,{name:"email",class:"invalid-feedback"})]),e("div",$,[W,t(r,{style:{"background-color":"#f2f2f2"},type:"text",rules:"required",class:c([{"is-invalid":i.姓名},"form-control noborder"]),id:"name",name:"姓名"},null,8,["class"]),t(n,{name:"姓名",class:"invalid-feedback"})]),e("div",E,[F,t(r,{style:{"background-color":"#f2f2f2"},type:"tel",class:c([{"is-invalid":i.電話},"form-control noborder"]),id:"電話",rules:l.isPhone,name:"電話"},null,8,["class","rules"]),t(n,{name:"電話",class:"invalid-feedback"})]),e("div",M,[P,t(r,{name:"地址",style:{"background-color":"#f2f2f2"},type:"text",rules:"required",class:c([{"is-invalid":i.地址},"form-control noborder"]),id:"address"},null,8,["class"]),t(n,{name:"地址",class:"invalid-feedback"})]),e("div",j,[z,C(e("textarea",{class:"form-control noborder",id:"message","onUpdate:modelValue":s[0]||(s[0]=f=>b.textarea=f),style:{height:"180px","background-color":"#f2f2f2"}},null,512),[[S,b.textarea]])]),e("div",A,[e("div",null,[e("button",{onClick:s[1]||(s[1]=T((...f)=>l.backCart&&l.backCart(...f),["prevent"])),type:"button",class:"btndark noborder text-nowrap rounded-pill py-2 px-5 mx-4 text-dark"}," 返回訂單 ")]),e("div",G,[e("button",{disabled:o.carts.length==0,type:"submit",class:"noborder btn-lg text-nowrap btn-red rounded-pill py-2 px-5 mx-4 text-dark"}," 確認付款 ",8,H)])])]),_:1},8,["onSubmit"])])}const K=x(V,[["render",I]]);export{K as default};
