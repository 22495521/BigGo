import{_ as h,m as v,b as x,r as c,o as g,c as y,e as t,w as k,d as e,n as d,D as w,E as C,A as S}from"./index-043e2955.js";import{c as f}from"./cart-c77359ba.js";import{S as D}from"./StepCirclelist-7c20e38c.js";const T={components:{StepCirclelist:D},data(){return{isLoading:!1,cartData:null,textarea:""}},computed:{...v(f,["carts"])},methods:{...x(f,["getitem"]),isPhone(a){return/^(09)[0-9]{8}$/.test(a)?!0:"需要正確的電話號碼"},onSubmit(a){let s={data:{user:{name:"",email:"",tel:"",address:""},message:""}};s.data.message=this.textarea,s.data.user.name=a.姓名,s.data.user.email=a.email,s.data.user.tel=a.電話,s.data.user.address=a.地址;const u="https://vue3-course-api.hexschool.io/v2/api/biggo/order";this.$http.post(u,s).then(o=>{this.getitem(),this.scrollTo(),this.$router.push({path:"ThankyouBuy",query:{id:o.data.orderId}})}).catch(o=>{console.log(o)})},scrollTo(){window.scrollTo(0,0)},backCart(){this.scrollTo(),this.$router.push("/Cartview")}}},V={class:"WriteDatawrap px-5 px-md-3"},q={class:"mb-4"},B=e("label",{for:"email",class:"form-label mb-1 fs-5"},"Email",-1),N={class:"mb-4"},$=e("label",{for:"name",class:"form-label mb-1 fs-5"},"姓名",-1),E={class:"mb-4"},W=e("label",{for:"電話",class:"form-label mb-1 fs-5"},"電話",-1),A={class:"mb-4"},F=e("label",{for:"address",class:"form-label mb-1 fs-5"},"地址",-1),M={class:"mb-4"},P=e("label",{for:"message",class:"mb-1 fs-5"},"留言",-1),j={class:"text-center my-5 d-flex flex-column-reverse flex-md-row justify-content-center"},z={class:"mb-3 mb-md-0"},I=["disabled"];function L(a,s,u,o,b,l){const p=c("StepCirclelist"),r=c("VField"),n=c("error-message"),_=c("v-form");return g(),y("div",V,[t(p,{step:2}),t(_,{ref:"form",onSubmit:l.onSubmit},{default:k(({errors:i})=>[e("div",q,[B,t(r,{style:{"background-color":"#f2f2f2"},type:"email",rules:"email|required",class:d(["form-control noborder",{"is-invalid":i.email}]),id:"email",name:"email"},null,8,["class"]),t(n,{name:"email",class:"invalid-feedback"})]),e("div",N,[$,t(r,{style:{"background-color":"#f2f2f2"},type:"text",rules:"required",class:d([{"is-invalid":i.姓名},"form-control noborder"]),id:"name",name:"姓名"},null,8,["class"]),t(n,{name:"姓名",class:"invalid-feedback"})]),e("div",E,[W,t(r,{style:{"background-color":"#f2f2f2"},type:"tel",class:d([{"is-invalid":i.電話},"form-control noborder"]),id:"電話",rules:l.isPhone,name:"電話"},null,8,["class","rules"]),t(n,{name:"電話",class:"invalid-feedback"})]),e("div",A,[F,t(r,{name:"地址",style:{"background-color":"#f2f2f2"},type:"text",rules:"required",class:d([{"is-invalid":i.地址},"form-control noborder"]),id:"address"},null,8,["class"]),t(n,{name:"地址",class:"invalid-feedback"})]),e("div",M,[P,w(e("textarea",{class:"form-control noborder",id:"message","onUpdate:modelValue":s[0]||(s[0]=m=>b.textarea=m),style:{height:"180px","background-color":"#f2f2f2"}},null,512),[[C,b.textarea]])]),e("div",j,[e("div",null,[e("button",{onClick:s[1]||(s[1]=S((...m)=>l.backCart&&l.backCart(...m),["prevent"])),type:"button",class:"btndark noborder text-nowrap rounded-pill py-2 px-5 mx-4"}," 返回訂單 ")]),e("div",z,[e("button",{disabled:a.carts.length==0,type:"submit",class:"noborder btn-lg text-nowrap btn-red rounded-pill py-2 px-5 mx-4"}," 確認付款 ",8,I)])])]),_:1},8,["onSubmit"])])}const J=h(T,[["render",L]]);export{J as default};
